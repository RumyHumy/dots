# Tutorial for installation DWM on Void Linux
# Install dependencies
sudo xbps-install -Suy
# Main shi
sudo xbps-install -S git gcc clang make xorg-minimal pkg-config
# Desktop shi
sudo xbps-install -S xdg-user-dirs xdg-utils
# For building the 
sudo xbps-install -S libX11-devel libXft-devel libXinerama-devel freetype-deve 
# For display/keyboard settings
sudo xbps-install -S xrandr xrdb setxkbmap xsetroot xclip
# Cool font
sudo xbps-install -S font-firacode
# For development and other stuff
sudo xbps-install -S mesa-dri

# Dualboot
sudo vi /etc/default/grub
> GRUB_TIMEOUT=1
> GRUB_DISABLE_OS_PROBER=false
sudo grub-mkconfig --output=/boot/grub/grub.cfg

# Clone suckless
mkdir ~/suckless
cd ~/suckless
git clone https://git.suckless.org/dwm
git clone https://git.suckless.org/st
git clone https://git.suckless.org/dmenu

# Build suckless
cd dwm; sudo make install clean
cd st; sudo make install clean
cd dmenu; sudo make install clean

# Audio setup
#sudo xbps-install -S pulseaudio
sudo xbps-install -S alsa-firmware alsa-lib alsa-utils linux-firmware

# Battery status
sudo xbps-install acpi
#xsetroot -name "Thanks for all the fish"

# All things I need
sudo xbps-install -S telegram-desktop
sudo xbps-install -S flameshot
sudo mkdir /run/user/$(id -u)
sudo chmod 0700 /run/user/$(id -u)
# - zooming and screenshoting

# PulseAudio
sudo mkdir -p /etc/sv/pulseaudio
echo '#!/bin/sh
exec /usr/bin/pulseaudio --start' \
| sudo tee /etc/sv/pulseaudio/run
sudo chmod +x /etc/sv/pulseaudio/run
sudo ln -s /etc/sv/pulseaudio /var/service

# Picom (deps: mesa mesa-dri and i don't even know at that point)
sudo xbps-install picom

# Printer
sudo xbps-install -S cups
sudo ln -s /etc/sv/cupsd /var/service
sudo lpinfo -v
# go to http://localhost:631/admin
# > Administration > Enter user and password
# Easy from now on

## - to find <uri>
## usb://Samsung/ML-1640%20Series?serial=145UBKDZ101586N
#sudo xbps-install -S samsung-unified-driver
## - or some shit
#sudo usermod -aG lpadmin $USER
#sudo guzip /usr/share/ppd/suld/Samsung_ML-1640_Series.ppd.gz
#sudo chmod a+r /usr/share/ppd/suld/Samsung_ML-1640_Series.ppd
#lpadmin -p SamsungML1640 -E -v "usb://Samsung/ML-1640%20Series?serial=145UBKDZ101586N" -m "Samsung_ML-1640_Series.ppd"
#lpoptions -d SamsungML1640
vi .xinitrc
> exec dwm
